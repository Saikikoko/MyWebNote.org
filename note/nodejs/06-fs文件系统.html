<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>fs文件系统 | 前端学习</title>
    <meta name="description" content="就算没有契机，时间也会将人的情感变为回忆。伤痛像结了疤一样被填满，并在没人注意到的地方脱落，人就是这样不断前进的">
    <link rel="shortcut icon" href="/MyWebNote.org/icons8-iron-man-24.png">
    
    <link rel="preload" href="/MyWebNote.org/assets/css/0.styles.f56ec604.css" as="style"><link rel="preload" href="/MyWebNote.org/assets/js/app.f2fe0c7f.js" as="script"><link rel="preload" href="/MyWebNote.org/assets/js/88.bb4db4ce.js" as="script"><link rel="prefetch" href="/MyWebNote.org/assets/js/10.c691ac73.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/100.e2d8a291.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/101.c3cc8e91.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/102.3f61dfa8.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/11.34a31027.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/12.f03591bd.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/13.103c0c59.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/14.fee47807.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/15.94e0bea6.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/16.f2626726.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/17.1a1750fc.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/18.a6cdaaff.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/19.ca2dc743.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/2.a9293c86.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/20.75a11188.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/21.f3790a9b.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/22.e635d85a.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/23.4e27da32.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/24.53112e04.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/25.1949da3c.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/26.255b732c.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/27.15d181af.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/28.6438a2ee.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/29.cef785fb.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/3.c6656e0d.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/30.cc18f03f.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/31.d00bf168.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/32.c76aad01.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/33.20acdaf3.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/34.de07c572.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/35.b9e50aef.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/36.fa4b82ff.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/37.c1c503b7.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/38.f6b7b50c.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/39.3f66e672.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/4.94f2c0da.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/40.2e8cdae5.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/41.ecc6b261.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/42.1de39536.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/43.e5ac39a4.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/44.37f62fb3.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/45.de839086.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/46.3dcca0d7.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/47.131ffc4b.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/48.d5952efd.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/49.2a4c4b2a.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/5.5c2f8b20.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/50.55478880.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/51.35632ed1.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/52.30004d26.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/53.4e585a6b.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/54.60d59298.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/55.ffec2acd.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/56.98e755c0.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/57.8e2cb818.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/58.404ba7e4.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/59.a3e93dcf.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/6.e2d4d96a.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/60.0cfe8778.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/61.48ab2616.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/62.44f735ea.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/63.0bfc6f0f.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/64.7785c0e5.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/65.b0c92212.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/66.d61e758d.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/67.fe08374f.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/68.787475c6.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/69.ca681a6c.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/7.6ea3b354.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/70.9e19ac99.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/71.304e5946.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/72.cc9adc1c.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/73.5d6e8cfa.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/74.48b5b8da.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/75.ae563bbf.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/76.5f05336a.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/77.38705786.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/78.3c9b2f38.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/79.b39e10db.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/8.1c994733.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/80.7933b8a9.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/81.17c4e023.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/82.ff8a25ed.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/83.8ff75adb.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/84.29d7cb9e.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/85.9a3b7936.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/86.88d88d3d.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/87.c9311269.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/89.b71072b5.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/9.74f2cd64.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/90.59939a3b.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/91.6b2d9529.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/92.3452ed84.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/93.5a1c587a.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/94.9f285282.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/95.e96ceb1b.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/96.44b7f063.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/97.03ff7ad0.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/98.1e915b70.js"><link rel="prefetch" href="/MyWebNote.org/assets/js/99.a3e97b24.js">
    <link rel="stylesheet" href="/MyWebNote.org/assets/css/0.styles.f56ec604.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/MyWebNote.org/" class="home-link router-link-active"><!----> <span class="site-name">前端学习</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/MyWebNote.org/note/" class="nav-link router-link-active">前端笔记</a></div><div class="nav-item"><a href="http://blog.saiki.xyz/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Saikikoko/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/MyWebNote.org/note/" class="nav-link router-link-active">前端笔记</a></div><div class="nav-item"><a href="http://blog.saiki.xyz/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Saikikoko/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>HTML/CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS3</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>H5</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>nodejs</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/MyWebNote.org/note/nodejs/01-连接服务器与安装nodejs.html" class="sidebar-link">安装nodeJS</a></li><li><a href="/MyWebNote.org/note/nodejs/02-node.js简介.html" class="sidebar-link">node.js简介</a></li><li><a href="/MyWebNote.org/note/nodejs/03-nodejs事件循环.html" class="sidebar-link">nodejs事件循环</a></li><li><a href="/MyWebNote.org/note/nodejs/04-npm常用命令.html" class="sidebar-link">npm常用命令</a></li><li><a href="/MyWebNote.org/note/nodejs/05-node模块.html" class="sidebar-link">模块</a></li><li><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html" class="active sidebar-link">fs文件系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#fs文件系统" class="sidebar-link">fs文件系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#读取文件" class="sidebar-link">读取文件</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#写文件" class="sidebar-link">写文件</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#删除文件" class="sidebar-link">删除文件</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#监听文件" class="sidebar-link">监听文件</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#判断文件是否存在" class="sidebar-link">判断文件是否存在</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#读取目录" class="sidebar-link">读取目录</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#创建文件夹" class="sidebar-link">创建文件夹</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#删除文件夹" class="sidebar-link">删除文件夹</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#重命名" class="sidebar-link">重命名</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#复制文件" class="sidebar-link">复制文件</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#自定义读写文件" class="sidebar-link">自定义读写文件</a></li><li class="sidebar-sub-header"><a href="/MyWebNote.org/note/nodejs/06-fs文件系统.html#stats" class="sidebar-link">stats</a></li></ul></li></ul></li><li><a href="/MyWebNote.org/note/nodejs/07-stream流.html" class="sidebar-link">stream流</a></li><li><a href="/MyWebNote.org/note/nodejs/08-http.html" class="sidebar-link">http</a></li><li><a href="/MyWebNote.org/note/nodejs/09-koa.html" class="sidebar-link">koa</a></li><li><a href="/MyWebNote.org/note/nodejs/10-pug.html" class="sidebar-link">pug</a></li><li><a href="/MyWebNote.org/note/nodejs/11-MongoDB.html" class="sidebar-link">MongoDB</a></li><li><a href="/MyWebNote.org/note/nodejs/12-express.html" class="sidebar-link">express</a></li><li><a href="/MyWebNote.org/note/nodejs/13-Mongoose.html" class="sidebar-link">mongoose</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="fs文件系统"><a href="#fs文件系统" aria-hidden="true" class="header-anchor">#</a> fs文件系统</h2> <p>针对文件夹的api</p> <ul><li>fs.mkdir</li> <li>fs.rmdir</li> <li>fs.readdir</li></ul> <p>针对文件的api</p> <ul><li>fs.readfile</li> <li>fs.writefile</li> <li>fs.unlink</li> <li>fs.watchfile</li> <li>fs.existsSync</li> <li>fs.link</li></ul> <p>即可以操作文件夹也可以操作文件的api</p> <ul><li>fs.rename</li></ul> <h3 id="读取文件"><a href="#读取文件" aria-hidden="true" class="header-anchor">#</a> 读取文件</h3> <p><code>fs.readFile(path[, options], callback)</code></p> <ul><li><code>path</code>文件名或文件描述符。</li> <li><code>options</code> <ul><li><code>encoding</code> 默认为 <code>null</code>。</li> <li><code>flag</code> 详见<a href="http://nodejs.cn/s/JjbY8n" target="_blank" rel="noopener noreferrer">支持的 flag<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。默认为 <code>'r'</code>。</li></ul></li> <li><code>callback</code> <ul><li><code>err</code></li> <li><code>data</code></li></ul></li></ul> <p>异步地读取文件的内容。</p> <div class="language-js extra-class"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'/etc/passwd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>callback</code> 有两个参数 <code>(err, data)</code>，其中 <code>data</code> 是文件的内容。</p> <p>如果没有指定 <code>encoding</code>，则返回原始的 buffer。</p> <p>如果 <code>options</code> 是一个字符串，则指定字符编码：</p> <div class="language-js extra-class"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'/etc/passwd'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果 <code>path</code> 是一个目录，则 <code>fs.readFile()</code> 与 <a href="http://nodejs.cn/s/LxKo1q" target="_blank" rel="noopener noreferrer"><code>fs.readFileSync()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的行为因平台而异。 在 macOS、Linux 与 Windows 上，会返回错误。 在 FreeBSD 上，会返回目录内容的描述。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在 macOS、Linux 与 Windows 上：</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'&lt;目录&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// =&gt; [Error: EISDIR: illegal operation on a directory, read &lt;directory&gt;]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 在 FreeBSD 上：</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'&lt;目录&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// =&gt; null, &lt;data&gt;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>指定的文件描述符必须支持读取。</p> <p>如果 <code>path</code> 是一个文件描述符，则它不会自动关闭。</p> <p><code>fs.readFile()</code> 会缓存整个文件。 为了最小化内存占用，尽可能优先使用 <code>fs.createReadStream()</code>。</p> <h3 id="写文件"><a href="#写文件" aria-hidden="true" class="header-anchor">#</a> 写文件</h3> <p><code>fs.writeFile(file, data[, options], callback)</code></p> <ul><li><code>file</code> 文件名或文件描述符。</li> <li><code>data</code></li> <li><code>options</code> <ul><li><code>encoding</code>  默认为 <code>'utf8'</code>。</li> <li><code>mode</code> 默认为 <code>0o666</code>。</li> <li><code>flag</code> 详见<a href="http://nodejs.cn/s/JjbY8n" target="_blank" rel="noopener noreferrer">支持的 flag<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。默认为 <code>'w'</code>。</li></ul></li> <li><code>callback</code> <ul><li><code>err</code></li></ul></li></ul> <p>异步地将数据写入文件，如果文件已存在，则覆盖文件。</p> <p>如果 <code>data</code> 是一个 buffer，则忽略 <code>encoding</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token string">'Node.js中文网'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'文件.txt'</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件已保存'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果 <code>options</code> 是一个字符串，则指定字符编码：</p> <div class="language-js extra-class"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'文件.txt'</span><span class="token punctuation">,</span> <span class="token string">'Node.js中文网'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>指定的文件描述符必须支持写入。</p> <p>对同一个文件多次使用 <code>fs.writeFile()</code> 且不等待回调，是不安全的。 对于这种情况，建议使用 <a href="http://nodejs.cn/s/VdSJQa" target="_blank" rel="noopener noreferrer"><code>fs.createWriteStream()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>如果 <code>file</code> 是一个文件描述符，则不会自动关闭。</p> <h3 id="删除文件"><a href="#删除文件" aria-hidden="true" class="header-anchor">#</a> 删除文件</h3> <p><code>fs.unlink(path, callback)</code></p> <ul><li><code>path</code> <code>string|buffer|URL</code></li> <li><code>callback</code> <code>Function</code> <ul><li><code>err</code></li></ul></li></ul> <p>异步地移除文件或符号链接。 <code>callback</code> 只有一个参数 <code>err</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设 'path/file.txt' 是一个普通文件。</span>
fs<span class="token punctuation">.</span><span class="token function">unlink</span><span class="token punctuation">(</span><span class="token string">'path/file.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件已删除'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>fs.unlink()</code> 不能移除目录。 要移除目录可使用 <a href="http://nodejs.cn/s/4snHRH" target="_blank" rel="noopener noreferrer"><code>fs.rmdir()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h3 id="监听文件"><a href="#监听文件" aria-hidden="true" class="header-anchor">#</a> 监听文件</h3> <p><code>fs.watchFile(filename[, options], listener)</code></p> <ul><li><code>filename</code></li> <li><code>options</code> <ul><li><code>persistent</code> 默认为 <code>true</code>。</li> <li><code>interval</code> 默认为 <code>5007</code>。</li></ul></li> <li><code>listener</code> <ul><li><code>current</code></li> <li><code>previous</code></li></ul></li></ul> <p>监视 <code>filename</code> 的变化。 每当文件被访问时会调用 <code>listener</code>。</p> <p><code>listener</code> 有两个参数，当前的状态对象和以前的状态对象：</p> <div class="language-js extra-class"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">watchFile</span><span class="token punctuation">(</span><span class="token string">'文件.text'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>curr<span class="token punctuation">,</span> prev<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`当前的最近修改时间是: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>curr<span class="token punctuation">.</span>mtime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`之前的最近修改时间是: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prev<span class="token punctuation">.</span>mtime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这里的状态对象是 <code>fs.Stat</code> 实例。</p> <h3 id="判断文件是否存在"><a href="#判断文件是否存在" aria-hidden="true" class="header-anchor">#</a> 判断文件是否存在</h3> <p><code>fs.existsSync(path)</code></p> <ul><li><code>path``string|buffer|URL</code></li> <li>返回: <code>boolean</code></li></ul> <p>如果文件存在，则返回 <code>true</code>，否则返回 <code>false</code>。</p> <h3 id="读取目录"><a href="#读取目录" aria-hidden="true" class="header-anchor">#</a> 读取目录</h3> <p><code>fs.readdir(path[, options], callback)</code></p> <ul><li><code>path</code></li> <li><code>options</code> <ul><li><code>encoding</code> 默认为 <code>'utf8'</code>。</li> <li><code>withFileTypes</code> 默认为 <code>false</code>。</li></ul></li> <li><code>callback</code> <ul><li><code>err</code></li> <li><code>files</code></li></ul></li></ul> <p>读取目录的内容。 <code>callback</code> 有两个参数 <code>(err, files)</code>，其中 <code>files</code> 是目录中的文件名的数组。</p> <p>如果 <code>options</code> 是一个字符串，则指定字符编码。 如果 <code>encoding</code> 设为 <code>'buffer'</code>，则返回的文件名是 <code>Buffer</code>。</p> <p>如果 <code>withFileTypes</code> 设为 <code>true</code>，则 <code>files</code> 数组中的元素是 [<code>fs.Dirent</code>]</p> <h3 id="创建文件夹"><a href="#创建文件夹" aria-hidden="true" class="header-anchor">#</a> 创建文件夹</h3> <p><code>fs.mkdir(path[, options], callback)</code></p> <ul><li><code>path</code> <code>string|buffer|URL</code></li> <li><code>options</code> <code>object|integer</code> <ul><li><code>recursive</code> <code>boolean</code> 默认为 false。</li> <li><code>mode</code> <code>integer</code> 不支持 Windows 平台。默认为 0o777。</li></ul></li> <li><code>callback</code> <code>Function</code> <ul><li><code>err</code></li></ul></li></ul> <p>异步地创建目录。 <code>callback</code> 只有一个参数 err。</p> <p>如果 <code>options</code> 是一个整数，则指定文件的模式（权限）。 如果 <code>options</code> 是一个对象，则 recursive 指定是否创建父目录。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建 /tmp/a/apple 目录，不管 /tmp 和 /tmp/a 目录是否存在。</span>
fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">'/tmp/a/apple'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> recursive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="删除文件夹"><a href="#删除文件夹" aria-hidden="true" class="header-anchor">#</a> 删除文件夹</h3> <p><code>fs.rmdir(path, callback)</code></p> <ul><li><code>path</code> <code>string|buffer|URL</code></li> <li><code>callback</code> <code>Function</code> <ul><li><code>err</code></li></ul></li></ul> <p>移除目录（不能移除文件）,必须是空目录</p> <h3 id="重命名"><a href="#重命名" aria-hidden="true" class="header-anchor">#</a> 重命名</h3> <p><code>fs.rename(oldPath, newPath, callback)</code></p> <ul><li><code>oldPath</code> <code>string|buffer|URL</code></li> <li><code>newPath</code> <code>string|buffer|URL</code></li> <li><code>callback</code> <code>Function</code> <ul><li><code>err</code></li></ul></li></ul> <p>将文件从旧目录移动到新目录，并进行重命名（也可以移动目录）</p> <h3 id="复制文件"><a href="#复制文件" aria-hidden="true" class="header-anchor">#</a> 复制文件</h3> <p><code>fs.link(existingPath, newPath, callback)</code></p> <p><code>fs.copyFile(existingPath, newPath,callback)</code></p> <h3 id="自定义读写文件"><a href="#自定义读写文件" aria-hidden="true" class="header-anchor">#</a> 自定义读写文件</h3> <p>使用fs.open、fs.close、fs.read、fs.write、Buffer.from可以自定义从哪里开始读取文件，读取的字节长度</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'./02.txt'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span>fd<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    <span class="token keyword">let</span> buffer <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fs<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span>buffer<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span>bytesRead<span class="token punctuation">,</span>buffer<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bytesRead<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="stats"><a href="#stats" aria-hidden="true" class="header-anchor">#</a> stats</h3> <ul><li>stats.isDirectory()</li> <li>stats.isFile()</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/MyWebNote.org/assets/js/app.f2fe0c7f.js" defer></script><script src="/MyWebNote.org/assets/js/88.bb4db4ce.js" defer></script>
  </body>
</html>
