(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{236:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h2",{attrs:{id:"localstorage-webworker-cache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-webworker-cache","aria-hidden":"true"}},[t._v("#")]),t._v(" localStorage-webWorker-cache")]),t._v(" "),s("h3",{attrs:{id:"localstorage、sessionstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localstorage、sessionstorage","aria-hidden":"true"}},[t._v("#")]),t._v(" localStorage、sessionStorage")]),t._v(" "),s("p",[t._v("和cookie对比：")]),t._v(" "),s("ul",[s("li",[t._v("更快速、更安全")]),t._v(" "),s("li",[t._v("存储量更大，cookie只能存储5kb大小的数据，localstorage可以存储5mb大小的数据")]),t._v(" "),s("li",[t._v("本地存储，相比cookie，不需要封装，直拿直用")])]),t._v(" "),s("p",[s("strong",[t._v("localStorage 和 sessionStorage区别：")])]),t._v(" "),s("ul",[s("li",[t._v("localStorage - 用于长久保存整个网站的数据，保存的数据没有过期时间，直到手动去除")]),t._v(" "),s("li",[t._v("sessionStorage - 用于临时保存同一窗口(或标签页)的数据，在关闭窗口或标签页之后将会删除这些数据")])]),t._v(" "),s("h4",{attrs:{id:"存储数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存储数据","aria-hidden":"true"}},[t._v("#")]),t._v(" 存储数据")]),t._v(" "),s("p",[t._v("方式一：")]),t._v(" "),s("p",[s("code",[t._v("localStorage.xxxx =")]),t._v("直接"),s("code",[t._v(".")]),t._v("操作赋值，得到"),s("code",[t._v("xxx:")]),t._v("的键值对")]),t._v(" "),s("p",[t._v("方式二：")]),t._v(" "),s("p",[s("code",[t._v("localStorage.setItem(key,value)")])]),t._v(" "),s("h4",{attrs:{id:"获取数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取数据","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取数据")]),t._v(" "),s("p",[s("code",[t._v("localStorage.getItem(key)")])]),t._v(" "),s("h4",{attrs:{id:"删除数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除数据","aria-hidden":"true"}},[t._v("#")]),t._v(" 删除数据")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("localStorage.removeItem(key)")])]),t._v(" "),s("li",[s("code",[t._v("localStorage.clear()")])])]),t._v(" "),s("h4",{attrs:{id:"得到某个索引的key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#得到某个索引的key","aria-hidden":"true"}},[t._v("#")]),t._v(" 得到某个索引的key")]),t._v(" "),s("p",[s("code",[t._v("localStorage.key(index)")])]),t._v(" "),s("p",[s("code",[t._v("window.localstorage.getItem")]),t._v("获取")]),t._v(" "),s("p",[s("code",[t._v("window.localstorage.setItem")]),t._v("设置")]),t._v(" "),s("p",[s("code",[t._v("window.localstorage.removeItem")]),t._v("删除")]),t._v(" "),s("h3",{attrs:{id:"webworker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webworker","aria-hidden":"true"}},[t._v("#")]),t._v(" webworker")]),t._v(" "),s("p",[t._v("HTML5中实现多线程的方法，当页面存在耗费CPU的计算任务，可以使用该对象开启一个多线程，用户不用等脚本执行完，即可对页面进行操作")]),t._v(" "),s("h4",{attrs:{id:"检查浏览器是否支持webworker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查浏览器是否支持webworker","aria-hidden":"true"}},[t._v("#")]),t._v(" 检查浏览器是否支持webworker")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Worker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"undefined"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是的! Web worker 支持!")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一些代码.....")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//抱歉! Web Worker 不支持 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"开启多线程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启多线程","aria-hidden":"true"}},[t._v("#")]),t._v(" 开启多线程")]),t._v(" "),s("p",[s("code",[t._v("new Worker(web worker文件)")]),t._v("用于新建"),s("code",[t._v("web worker")]),t._v("对象，并运行参数中的文件")]),t._v(" "),s("p",[t._v("其他一些重要的api：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("onmessage")]),t._v("该事件用于接收消息，消息挂载在事件对象"),s("code",[t._v("e.data")]),t._v("上")]),t._v(" "),s("li",[s("code",[t._v("postMessage(data)")]),t._v("用于发送消息")]),t._v(" "),s("li",[s("code",[t._v("terminate()")]),t._v("当我们创建 web worker 对象后，它会继续监听消息（即使在外部脚本完成之后）直到其被终止为止，该方法用于终止"),s("code",[t._v("web worker")]),t._v("释放资源")])]),t._v(" "),s("h5",{attrs:{id:"编写一个work-js文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编写一个work-js文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 编写一个"),s("code",[t._v("work.js")]),t._v("文件")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmessage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" str "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        str "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCharCode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//self代表调用work.js的web worker对象")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h5",{attrs:{id:"html文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html文件","aria-hidden":"true"}},[t._v("#")]),t._v(" HTML文件")]),t._v(" "),s("div",{staticClass:"language-HTML extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[t._v("\n    document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'work:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" w "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'work.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        w"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//向work.js发送数据")]),t._v("\n        \n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeEnd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'work:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        w"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("terminate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"sse事件推送"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sse事件推送","aria-hidden":"true"}},[t._v("#")]),t._v(" SSE事件推送")]),t._v(" "),s("p",[s("code",[t._v("new EventSource(url)")])]),t._v(" "),s("p",[t._v("js:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" souce "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./sse.php'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmessage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    box"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("php:")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Content-Type:text/event-stream'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Cache-control:no-cache'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$arr")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json_encode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    \t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        \t"),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'goudan'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        \t"),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'ergou'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'data:{$arr}\\n\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flush")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])]),s("h3",{attrs:{id:"离线存储"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#离线存储","aria-hidden":"true"}},[t._v("#")]),t._v(" 离线存储")]),t._v(" "),s("h4",{attrs:{id:"cache-manifest-基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cache-manifest-基础","aria-hidden":"true"}},[t._v("#")]),t._v(" Cache Manifest 基础")]),t._v(" "),s("p",[t._v("如需启用应用程序缓存，请在文档的html标签中包含 manifest 属性：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!DOCTYPE HTML>")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("manifest")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("demo.appcache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n...\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("每个指定了 manifest 的页面在用户对其访问时都会被缓存。如果未指定 manifest 属性，则页面不会被缓存（除非在 manifest 文件中直接指定了该页面）。")]),t._v(" "),s("p",[t._v('manifest 文件的建议的文件扩展名是：".appcache"。')]),t._v(" "),s("p",[s("img",{attrs:{src:"http://www.runoob.com/images/lamp.gif",alt:"Remark"}}),t._v(' 请注意，manifest 文件需要配置正确的 MIME-type，即 "text/cache-manifest"。')]),t._v(" "),s("p",[s("strong",[t._v("必须在 web 服务器上进行配置：")])]),t._v(" "),s("p",[t._v("在apache目录下的httpd.conf文件里加上"),s("code",[t._v("AddType text/cache-manifest .appcache")]),t._v("("),s("code",[t._v(".appcache")]),t._v("是缓存文件的后缀，可以自己命名)")]),t._v(" "),s("h4",{attrs:{id:"manifest-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manifest-文件","aria-hidden":"true"}},[t._v("#")]),t._v(" Manifest 文件")]),t._v(" "),s("p",[t._v("manifest 文件是简单的文本文件，它告知浏览器被缓存的内容（以及不缓存的内容）")]),t._v(" "),s("p",[t._v("创建一个后缀名为"),s("code",[t._v(".appcache")]),t._v("的文件")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("先写CACHE MANIFEST  在此标题下列出的文件将在首次下载后进行缓存")])]),t._v(" "),s("li",[s("p",[t._v("NETWORK 在此标题下列出的文件需要与服务器的连接，且不会被缓存")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("CACHE MANIFEST\n# version 2018-06-22 00:34 1.1.4\n\nCACHE:\nimg/1.jpg\nimg/2.jpg\n\n\n\nNETWORK:\n*\n")])])])])]),t._v(" "),s("h4",{attrs:{id:"更新缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新缓存","aria-hidden":"true"}},[t._v("#")]),t._v(" 更新缓存")]),t._v(" "),s("p",[t._v("一旦应用被缓存，它就会保持缓存直到发生下列情况：")]),t._v(" "),s("ul",[s("li",[t._v("用户清空浏览器缓存")]),t._v(" "),s("li",[t._v("manifest 文件被修改（参阅下面的提示）")]),t._v(" "),s("li",[t._v("由程序来更新应用缓存")])])])}],!1,null,null,null);a.default=e.exports}}]);